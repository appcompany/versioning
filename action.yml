name: Versioning
description: Generates a JSON file
inputs:
  number_template:
    description: Template for generating version numbers
    required: true
    default: '<<VERSION_STRING>>-<<TRACK>>/#<<BUILD>>'
  track:
    description: The version track to use for this version
    required: true
    default: release
  token:
    description: Token to use for Authentication
    required: true
    default: ${{ github.token }}
  create:
    description: Create github release and add Version.json
    required: false
    default: 'false'
  build:
    description: Build number for the version to create
    required: false
    default: ${{ github.run_number }}
outputs:
  version:
    description: JSON with version information
runs:
  using: docker
  image: Dockerfile
  args:
    - --github-token ${{ inputs.token }}
    - --build-number ${{ inputs.build }}
    - --version-template ${{ inputs.number_template }}
    - --track ${{ inputs.track }}
    - --create ${{ inputs.create }}
